{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f61d55b1948400c16a0a","webpack:///./src/agent.js","webpack:///./src/browser.js","webpack:///./src/index.js"],"names":["userAgentRules","browser","criteria","identity","versionSearch","os","versionAlias","webview","browserVersionSearch","webviewBrowserVersion","webviewToken","defaultString","version","name","UA","isMatched","base","target","test","indexOf","getIdentityStringFromArray","rules","defaultStrings","matchedRule","filter","rule","getBrowserName","browserRules","getRule","targetIdentity","identityMatched","getBrowserRule","browserName","extractBrowserVersion","versionToken","ua","browserVersion","versionRegexResult","exec","versionTokenIndex","index","verTkn","versionIndex","length","substring","split","replace","getBrowserVersion","undefined","getOSName","osRules","getOSRule","osName","getOSVersion","osRule","defaultOSVersion","osVersion","osVersionToken","osVersionRegex","osVersionRegexResult","isWebview","webviewRules","some","postProcess","agent","toLowerCase","Agent","uastring","userAgent","win","window","RegExp","navigator","VERSION","module","exports"],"mappings":"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","file":"agent.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Agent\"] = factory();\n\telse\n\t\troot[\"eg\"] = root[\"eg\"] || {}, root[\"eg\"][\"Agent\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f61d55b1948400c16a0a","import {navigator, RegExp} from \"./browser\";\n\nconst userAgentRules = {\n\tbrowser: [{\n\t\tcriteria: \"PhantomJS\",\n\t\tidentity: \"PhantomJS\",\n\t}, {\n\t\tcriteria: /Whale/,\n\t\tidentity: \"Whale\",\n\t\tversionSearch: \"Whale\",\n\t}, {\n\t\tcriteria: /Edge/,\n\t\tidentity: \"Edge\",\n\t\tversionSearch: \"Edge\",\n\t}, {\n\t\tcriteria: /MSIE|Trident|Windows Phone/,\n\t\tidentity: \"IE\",\n\t\tversionSearch: \"IEMobile|MSIE|rv\",\n\t}, {\n\t\tcriteria: /MiuiBrowser/,\n\t\tidentity: \"MIUI Browser\",\n\t\tversionSearch: \"MiuiBrowser\",\n\t}, {\n\t\tcriteria: /SamsungBrowser/,\n\t\tidentity: \"Samsung Internet\",\n\t\tversionSearch: \"SamsungBrowser\",\n\t}, {\n\t\tcriteria: /SAMSUNG /,\n\t\tidentity: \"Samsung Internet\",\n\t\tversionSearch: \"Version\",\n\t}, {\n\t\tcriteria: /Chrome|CriOS/,\n\t\tidentity: \"Chrome\",\n\t}, {\n\t\tcriteria: /Android/,\n\t\tidentity: \"Android Browser\",\n\t\tversionSearch: \"Version\",\n\t}, {\n\t\tcriteria: /iPhone|iPad/,\n\t\tidentity: \"Safari\",\n\t\tversionSearch: \"Version\",\n\t}, {\n\t\tcriteria: \"Apple\",\n\t\tidentity: \"Safari\",\n\t\tversionSearch: \"Version\",\n\t}, {\n\t\tcriteria: \"Firefox\",\n\t\tidentity: \"Firefox\",\n\t}],\n\tos: [{\n\t\tcriteria: /Windows Phone/,\n\t\tidentity: \"Windows Phone\",\n\t\tversionSearch: \"Windows Phone\",\n\t}, {\n\t\tcriteria: \"Windows NT 6.3\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"8.1\",\n\t}, {\n\t\tcriteria: \"Windows NT 6.2\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"8\",\n\t}, {\n\t\tcriteria: \"Windows NT 6.1\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"7\",\n\t}, {\n\t\tcriteria: \"Windows NT 6.0\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"Vista\",\n\t}, {\n\t\tcriteria: \"Windows NT 5.1\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"XP\",\n\t}, {\n\t\tcriteria: \"Windows NT 5.2\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"XP\",\n\t}, {\n\t\tcriteria: \"Windows NT 5.1\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"XP\",\n\t}, {\n\t\tcriteria: /Windows NT 5.0|Windows NT 5.01/,\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"2000\",\n\t}, {\n\t\tcriteria: \"Windows 2000\",\n\t\tidentity: \"Window\",\n\t\tversionAlias: \"2000\",\n\t}, {\n\t\tcriteria: /Windows NT/,\n\t\tidentity: \"Window\",\n\t\tversionSearch: \"Windows NT\",\n\t}, {\n\t\tcriteria: /iPhone|iPad/,\n\t\tidentity: \"iOS\",\n\t\tversionSearch: \"iPhone OS|CPU OS\",\n\t}, {\n\t\tcriteria: \"Mac\",\n\t\tversionSearch: \"OS X\",\n\t\tidentity: \"MAC\",\n\t}, {\n\t\tcriteria: /Android/,\n\t\tidentity: \"Android\",\n\t}],\n\n\t// Webview check condition\n\t// ios: If has no version information\n\t// Android 5.0 && chrome 40+: Presence of \"; wv\" in userAgent\n\t// Under android 5.0:  Presence of \"NAVER\" or \"Daum\" in userAgent\n\twebview: [{\n\t\tcriteria: /iPhone|iPad/,\n\t\tbrowserVersionSearch: \"Version\",\n\t\twebviewBrowserVersion: /-1/,\n\t}, {\n\t\tcriteria: /iPhone|iPad|Android/,\n\t\twebviewToken: /NAVER|DAUM|; wv/,\n\n\t}],\n\tdefaultString: {\n\t\tbrowser: {\n\t\t\tversion: \"-1\",\n\t\t\tname: \"default\",\n\t\t},\n\t\tos: {\n\t\t\tversion: \"-1\",\n\t\t\tname: \"unknown\",\n\t\t},\n\t},\n};\n\nlet UA;\n\nfunction isMatched(base, target) {\n\treturn target &&\n\t\ttarget.test ? !!target.test(base) : base.indexOf(target) > -1;\n}\n\nfunction getIdentityStringFromArray(rules, defaultStrings) {\n\tconst matchedRule = rules.filter(rule => isMatched(UA, rule.criteria))[0];\n\n\treturn (matchedRule && matchedRule.identity) || defaultStrings.name;\n}\n\nfunction getBrowserName(browserRules) {\n\treturn getIdentityStringFromArray(browserRules, userAgentRules.defaultString.browser);\n}\n\nfunction getRule(rules, targetIdentity) {\n\treturn rules.filter(rule => {\n\t\tconst criteria = rule.criteria;\n\t\tconst identityMatched = new RegExp(rule.identity, \"i\").test(targetIdentity);\n\n\t\tif (criteria ?\n\t\t\tidentityMatched && isMatched(UA, criteria) :\n\t\t\tidentityMatched) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t})[0];\n}\n\nfunction getBrowserRule(browserName) {\n\treturn getRule(userAgentRules.browser, browserName);\n}\n\nfunction extractBrowserVersion(versionToken, ua) {\n\tlet browserVersion = userAgentRules.defaultString.browser.version;\n\tconst versionRegexResult =\n\t\t(new RegExp(`(${versionToken})`, \"i\")).exec(ua);\n\n\tif (!versionRegexResult) {\n\t\treturn browserVersion;\n\t}\n\n\tconst versionTokenIndex = versionRegexResult.index;\n\tconst verTkn = versionRegexResult[0];\n\n\tif (versionTokenIndex > -1) {\n\t\tconst versionIndex = versionTokenIndex + verTkn.length + 1;\n\n\t\tbrowserVersion = ua.substring(versionIndex)\n\t\t\t.split(\" \")[0]\n\t\t\t.replace(/_/g, \".\")\n\t\t\t.replace(/;|\\)/g, \"\");\n\t}\n\treturn browserVersion;\n}\n\nfunction getBrowserVersion(browserName) {\n\tif (!browserName) {\n\t\treturn undefined;\n\t}\n\tconst versionToken = getBrowserRule(browserName).versionSearch || browserName;\n\tconst browserVersion = extractBrowserVersion(versionToken, UA);\n\n\treturn browserVersion;\n}\n\nfunction getOSName(osRules) {\n\treturn getIdentityStringFromArray(osRules, userAgentRules.defaultString.os);\n}\n\nfunction getOSRule(osName) {\n\treturn getRule(userAgentRules.os, osName);\n}\n\nfunction getOSVersion(osName) {\n\tconst osRule = getOSRule(osName) || {};\n\tconst defaultOSVersion = userAgentRules.defaultString.os.version;\n\tlet osVersion;\n\n\tif (!osName) {\n\t\treturn undefined;\n\t}\n\tif (osRule.versionAlias) {\n\t\treturn osRule.versionAlias;\n\t}\n\tconst osVersionToken = osRule.versionSearch || osName;\n\tconst osVersionRegex =\n\t\tnew RegExp(`(${osVersionToken})\\\\s([\\\\d_\\\\.]+|\\\\d_0)`, \"i\");\n\tconst osVersionRegexResult = osVersionRegex.exec(UA);\n\n\tif (osVersionRegexResult) {\n\t\tosVersion = osVersionRegex.exec(UA)[2].replace(/_/g, \".\")\n\t\t\t\t\t\t\t\t\t\t\t.replace(/;|\\)/g, \"\");\n\t}\n\treturn osVersion || defaultOSVersion;\n}\n\nfunction isWebview() {\n\tconst webviewRules = userAgentRules.webview;\n\tlet browserVersion;\n\n\treturn webviewRules.filter(rule => isMatched(UA, rule.criteria))\n\t\t.some(rule => {\n\t\t\tbrowserVersion =\n\t\t\t\textractBrowserVersion(rule.browserVersionSearch, UA);\n\t\t\tif (isMatched(UA, rule.webviewToken) ||\n\t\t\t\tisMatched(browserVersion, rule.webviewBrowserVersion)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n}\n\nfunction postProcess(agent) {\n\tagent.browser.name = agent.browser.name.toLowerCase();\n\tagent.os.name = agent.os.name.toLowerCase();\n\n\tif (agent.os.name === \"ios\" && agent.browser.webview) {\n\t\tagent.browser.version = \"-1\";\n\t}\n\treturn agent;\n}\n\n/**\n * @namespace eg\n */\n\n/**\n * @typedef {Object} AgentInfo\n * @property {Object} browser a object that contains browser information <ko>브라우저 정보를 담은 객체</ko>\n * @property {String} browser.name name of the browser <ko>브라우저 이름</ko>\n * @property {String} browser.version version of the browser <ko>브라우저 버전</ko>\n * @property {Object} os a object that contains OS information <ko>운영체제 정보를 담은 객체</ko>\n * @property {String} os.name name of the OS <ko>운영체제 이름</ko>\n * @property {String} os.version version of the OS <ko>운영체제 버전</ko>\n */\n\n/**\n * Returns browser and OS information by parsing User-Agent string.\n * @ko 유저 에이전트 문자열을 파싱하여 브라우저와 운영체제 정보를 반환한다.\n * @name eg#Agent\n * @alias eg.Agent\n * @method\n * @param {String} [uastring=navigator.userAgent] The user-agent string to parse. <ko>환경 분석에 사용할 유저에이전트 문자열</ko>\n * @return {AgentInfo} agent information <ko>사용자 환경 정보</ko>\n * @example\n * ```javascript\n * var agent = eg.Agent(); // eg.Agent will use browser's navigator.userAgent\n * console.log(agent);\n * // console.log will print below\n * {\n *  browser: {\n *\t name: \"\",\n *\t version: \"\",\n *\t isWebview: true or false\n *  },\n *  os: {\n *\t name: \"\",\n *\t version: \"\"\n *  }\n * }\n * var agent = eg.Agent(ua); // eg.Agent will use given user-agent string\n * ```\n */\nfunction Agent(uastring) {\n\tif (uastring) {\n\t\tUA = uastring;\n\t} else {\n\t\tUA = navigator.userAgent;\n\t}\n\n\tconst agent = {\n\t\tos: {},\n\t\tbrowser: {},\n\t};\n\n\tagent.browser.name = getBrowserName(userAgentRules.browser);\n\tagent.browser.version = getBrowserVersion(agent.browser.name);\n\tagent.os.name = getOSName(userAgentRules.os);\n\tagent.os.version = getOSVersion(agent.os.name);\n\tagent.browser.webview = isWebview();\n\n\tagent.browser.name = agent.browser.name.toLowerCase();\n\tagent.os.name = agent.os.name.toLowerCase();\n\n\treturn postProcess(agent);\n}\n\nexport default Agent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/agent.js","const win = (typeof window !== `undefined` && window) || {};\n\nexport const RegExp = win.RegExp;\nexport const navigator = win.navigator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/browser.js","import Agent from \"./agent\";\n\nAgent.VERSION = \"2.0.0-rc.1\";\nmodule.exports = Agent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}